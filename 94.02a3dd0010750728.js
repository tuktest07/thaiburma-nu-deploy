"use strict";(self.webpackChunksol=self.webpackChunksol||[]).push([[94],{5094:(L,f,i)=>{i.r(f),i.d(f,{AuthSignUpModule:()=>M});var m=i(2791),E=i(8834),S=i(2765),l=i(2102),p=i(9213),g=i(9042),d=i(9183),F=i(4271),U=i(6522),v=i(11),r=i(9417),I=i(130),A=i(5683),C=i(1413),h=i(6977),t=i(4438),y=i(2608),G=i(945),j=i(895),N=i(177);const b=["signUpNgForm"];function x(e,a){if(1&e&&(t.qex(0),t.j41(1,"div",22)(2,"div",23),t.EFF(3),t.k0s(),t.j41(4,"mat-icon",24),t.nrm(5,"img",25),t.k0s()(),t.bVm()),2&e){const n=t.XpG();t.R7$(3),t.SpI("with ",null==n.socialState?null:n.socialState.name," ")}}function _(e,a){}function R(e,a){if(1&e&&(t.j41(0,"sol-alert",26),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.Y8G("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.R7$(),t.SpI(" ",n.alert.message," ")}}function k(e,a){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0e23\u0e30\u0e1a\u0e38\u0e0a\u0e37\u0e48\u0e2d "),t.k0s())}function Y(e,a){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0e23\u0e30\u0e1a\u0e38\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25 "),t.k0s())}function T(e,a){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e40\u0e1b\u0e47\u0e19\u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19\u0e15\u0e48\u0e2d\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e23\u0e30\u0e1a\u0e1a "),t.k0s())}function D(e,a){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0e01\u0e23\u0e38\u0e13\u0e32\u0e43\u0e2a\u0e48\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e4c\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07 "),t.k0s())}function $(e,a){if(1&e&&(t.j41(0,"mat-form-field",14)(1,"mat-label"),t.EFF(2,"\u0e2d\u0e35\u0e40\u0e21\u0e25"),t.k0s(),t.nrm(3,"input",27),t.DNE(4,T,2,0,"mat-error",16)(5,D,2,0,"mat-error",16),t.k0s()),2&e){const n=t.XpG();t.R7$(3),t.Y8G("formControlName","email"),t.R7$(),t.Y8G("ngIf",n.signUpForm.get("email").hasError("required")),t.R7$(),t.Y8G("ngIf",n.signUpForm.get("email").hasError("email"))}}function w(e,a){1&e&&(t.j41(0,"mat-error"),t.EFF(1," \u0e23\u0e30\u0e1a\u0e38\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23 "),t.k0s())}function B(e,a){1&e&&t.nrm(0,"mat-icon",31),2&e&&t.Y8G("svgIcon","heroicons_solid:eye")}function X(e,a){1&e&&t.nrm(0,"mat-icon",31),2&e&&t.Y8G("svgIcon","heroicons_solid:eye-off")}function V(e,a){if(1&e){const n=t.RV6();t.j41(0,"mat-form-field",14)(1,"mat-label"),t.EFF(2,"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"),t.k0s(),t.nrm(3,"input",28,2),t.j41(5,"button",29),t.bIt("click",function(){t.eBV(n);const o=t.sdS(4);return t.Njj(o.type="password"===o.type?"text":"password")}),t.DNE(6,B,1,1,"mat-icon",30)(7,X,1,1,"mat-icon",30),t.k0s(),t.j41(8,"mat-error"),t.EFF(9," \u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19 "),t.k0s()()}if(2&e){const n=t.sdS(4);t.R7$(3),t.Y8G("formControlName","password"),t.R7$(3),t.Y8G("ngIf","password"===n.type),t.R7$(),t.Y8G("ngIf","text"===n.type)}}function z(e,a){1&e&&(t.j41(0,"span"),t.EFF(1," \u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19 "),t.k0s())}function O(e,a){1&e&&t.nrm(0,"mat-progress-spinner",32),2&e&&t.Y8G("diameter",24)("mode","indeterminate")}const Q=[{path:"",component:(()=>{class e{constructor(n,s,o,u,c,P){this._zone=n,this._formBuilder=s,this._router=o,this.socialService=u,this._authService=c,this._activatedRoute=P,this.tools=new A.S,this.alert={type:"success",message:""},this.showAlert=!1,this.departments=[],this._unsubAll=new C.B}ngOnInit(){this.socialState=history.state,this.socialState?.socialId||this._router.navigate(["sign-in"]),console.log("socialState",this.socialState),this.signUpForm=this._formBuilder.group({provider:[this.socialState.social??"SYS",r.k0.required],firstName:["",r.k0.required],lastName:["",r.k0.required],phone_number:["",r.k0.required]})}ngOnDestroy(){this._unsubAll.next(null),this._unsubAll.unsubscribe()}backToSignin(){try{this._authService.signOut(),setTimeout(()=>{this._router.navigateByUrl("/sign-in")},250)}catch(n){console.log(n)}}signUp(){if(this.socialState?.socialId&&this.tools.CreateUUID(),this.signUpForm.invalid)return;this.signUpForm.disable(),this.showAlert=!1;let n=this.signUpForm.value;this.socialState?.socialId&&(n.social=this.socialState?.social||null,n.socialId=this.socialState?.socialId||null,n.profileImage=this.socialState?.profileImage||null),console.log("UserRegister",n),this._authService.UserRegister(n).pipe((0,h.Q)(this._unsubAll)).subscribe(s=>{console.log("signUp register",s),s&&(console.log("UserRegister False",this.comId),this._authService.signOut(),this._router.navigateByUrl("/sign-in"))})}getCompanyProfile(){this._authService.getCompanyProfile({com_id:this.comId}).pipe((0,h.Q)(this._unsubAll)).subscribe(s=>{console.log("getCompanyProfile",s),s&&(this.ActiveCompany=s)})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(t.SKi),t.rXU(r.ze),t.rXU(m.Ix),t.rXU(y.Jn),t.rXU(G.u),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["auth-sign-up"]],viewQuery:function(s,o){if(1&s&&t.GBs(b,5),2&s){let u;t.mGM(u=t.lsd())&&(o.signUpNgForm=u.first)}},decls:38,vars:16,consts:[["elseTemplate",""],["signUpNgForm","ngForm"],["passwordField",""],[1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0"],[1,"md:flex","md:items-center","md:justify-center","w-full","sm:w-auto","md:h-full","md:w-full","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","max-w-80","sm:w-80","mx-auto","sm:mx-0"],[1,"w-12"],["src","assets/images/logo/logo.png"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[4,"ngIf","ngIfElse"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline","hover:cursor-pointer",3,"click"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],[1,"w-full","sol-mat-dense"],["id","name","matInput","",3,"formControlName"],[4,"ngIf"],["id","lastName","matInput","",3,"formControlName"],["class","w-full sol-mat-dense",4,"ngIf"],["id","phone_number","matInput","",3,"formControlName"],["mat-flat-button","",1,"sol-mat-button-large","w-full","mt-6","rounded-lg",3,"click","color","disabled"],[3,"diameter","mode",4,"ngIf"],[1,"flex","flex-row","gap-4"],[1,"flex","text-md","font-extrabold","tracking-tight","leading-tight"],[1,"flex","icon-size-5"],["src","assets/icons/icon-line.svg",1,"icon-size-5","bg-green-600"],[1,"mt-8",3,"appearance","showIcon","type"],["id","email","matInput","",3,"formControlName"],["id","password","matInput","","type","password",3,"formControlName"],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(s,o){if(1&s){const u=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t.nrm(4,"img",7),t.k0s(),t.j41(5,"div",8),t.EFF(6,"Sign up"),t.k0s(),t.DNE(7,x,6,1,"ng-container",9)(8,_,0,0,"ng-template",null,0,t.C5r),t.j41(10,"div",10)(11,"div"),t.EFF(12,"Already have an account?"),t.k0s(),t.j41(13,"a",11),t.bIt("click",function(){return t.eBV(u),t.Njj(o.backToSignin())}),t.EFF(14,"Sign in "),t.k0s()(),t.DNE(15,R,2,5,"sol-alert",12),t.j41(16,"form",13,1)(18,"mat-form-field",14)(19,"mat-label"),t.EFF(20,"\u0e0a\u0e37\u0e48\u0e2d"),t.k0s(),t.nrm(21,"input",15),t.DNE(22,k,2,0,"mat-error",16),t.k0s(),t.j41(23,"mat-form-field",14)(24,"mat-label"),t.EFF(25,"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"),t.k0s(),t.nrm(26,"input",17),t.DNE(27,Y,2,0,"mat-error",16),t.k0s(),t.DNE(28,$,6,3,"mat-form-field",18),t.j41(29,"mat-form-field",14)(30,"mat-label"),t.EFF(31,"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"),t.k0s(),t.nrm(32,"input",19),t.DNE(33,w,2,0,"mat-error",16),t.k0s(),t.DNE(34,V,10,3,"mat-form-field",18),t.j41(35,"button",20),t.bIt("click",function(){return t.eBV(u),t.Njj(o.signUp())}),t.DNE(36,z,2,0,"span",16)(37,O,1,2,"mat-progress-spinner",21),t.k0s()()()()()}if(2&s){const u=t.sdS(9);t.R7$(7),t.Y8G("ngIf","line"==(null==o.socialState?null:o.socialState.social))("ngIfElse",u),t.R7$(8),t.Y8G("ngIf",o.showAlert),t.R7$(),t.Y8G("formGroup",o.signUpForm),t.R7$(5),t.Y8G("formControlName","firstName"),t.R7$(),t.Y8G("ngIf",o.signUpForm.get("firstName").hasError("required")),t.R7$(4),t.Y8G("formControlName","lastName"),t.R7$(),t.Y8G("ngIf",o.signUpForm.get("firstName").hasError("required")),t.R7$(),t.Y8G("ngIf",!(null!=o.socialState&&o.socialState.socialId)),t.R7$(4),t.Y8G("formControlName","phone_number"),t.R7$(),t.Y8G("ngIf",o.signUpForm.get("phone_number").hasError("required")),t.R7$(),t.Y8G("ngIf",!(null!=o.socialState&&o.socialState.socialId)),t.R7$(),t.Y8G("color","primary")("disabled",o.signUpForm.disabled),t.R7$(),t.Y8G("ngIf",!o.signUpForm.disabled),t.R7$(),t.Y8G("ngIf",o.signUpForm.disabled)}},dependencies:[E.$z,E.iY,l.rl,l.nJ,l.TL,l.yw,p.An,g.fg,d.LG,j.A,N.bT,r.qT,r.me,r.BC,r.cb,r.j4,r.JD],encapsulation:2,data:{animation:I.Y}})}}return e})()}];var J=i(2798);let M=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(Q),E.Hl,S.g7,l.RG,p.m_,g.fS,d.D6,J.Ve,F.Z,U.xG,v.G]})}}return e})()}}]);